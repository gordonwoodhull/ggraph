{"version":3,"sources":["metagraph.js"],"names":["_metagraph","object_to_keyvalue","o","Object","keys","map","key","value","build_index","vals","keyf","wrap","reduce","val","metagraph","version","mg","graph","nodes","edges","options","build_node_index","_nodeIndex","nodeKey","node_wrapper","build_edge_index","_edgeIndex","edgeKey","edge_wrapper","build_nodes_list","_nodesList","v","_graph","node","build_edges_list","_edgesList","edge","build_directional_edge_lists","acc","l","push","build_outs_index","_outsList","edgeSource","build_ins_index","_insList","edgeTarget","n","nodeValue","outs","ins","e","edgeValue","source","target","Array","isArray","assign","kv","pattern","spec","resolve","deps","funfun","defn","impl","action","apply","dep","indices","arguments","forEach","members","evalue","buildIndex","buind","index","args","concat","sourceMember","sourmem","name","targetMember","targmem","wrapper","member","keyFunction","valueFunction","data","objects","root","Error","single","basic_type","single_type","table_type","valuef","one_to_many","bind","source_member","target_member","get_table","list","many_to_one","target_deps","access","source_deps","graph_pattern","Graph","Node","Edge","graph_node","graph_nodes","graph_edge","graph_edges","edge_source","edge_target","define","amd","module","exports","this"],"mappings":"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","file":"metagraph.min.js"}