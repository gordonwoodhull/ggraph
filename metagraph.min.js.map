{"version":3,"sources":["metagraph.js"],"names":["_metagraph","object_to_keyvalue","o","Object","keys","map","key","value","build_index","vals","keyf","wrap","reduce","val","metagraph","version","mg","graph","nodes","edges","options","build_node_index","_nodeIndex","nodeKey","node_wrapper","build_edge_index","_edgeIndex","edgeKey","edge_wrapper","build_nodes_list","_nodesList","v","_graph","node","build_edges_list","_edgesList","edge","build_directional_edge_lists","acc","l","push","build_outs_index","_outsList","edgeSource","build_ins_index","_insList","edgeTarget","n","outs","ins","e","source","target","Array","isArray","assign","kv","pattern","spec","resolve","deps","funfun","defn","impl","action","apply","dep","indices","arguments","forEach","members","evalue","buildIndex","buind","index","args","concat","sourceMember","sourmem","name","targetMember","targmem","data","objects","wrapper","member","keyFunction","single","root","basic_type","single_type","table_type","one_to_many","source_member","target_member","get_table","list","many_to_one","target_deps","access","source_deps","graph_pattern","Graph","Node","Edge","graph_node","graph_nodes","graph_edge","graph_edges","edge_source","edge_target","define","amd","module","exports","this"],"mappings":"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","file":"metagraph.min.js"}